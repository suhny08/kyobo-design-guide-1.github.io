<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="../css/book.css"/>
    <script src="../js/jquery-3.6.0.js"></script>
    <script>
        function thumbNailDetail(){
            $(".thumbnail-box").addClass("on")
            $("body").addClass("fixed")
        }
    </script>
</head>
<body style="height: 3000px">
    <div class="wrap-contents">
        <header>
            <a href="javascript:;"><span>Header</span></a>
            <h3>위암으로 발전하는 위염, 위염 바로알기!</h3>
            <a href="javascript:;" class="btn-close"><span>닫기</span></a>
            <span class="bar"></span>
        </header>
        <div class="top-area">
            <a href="javascript:;" class="btn-close"><span>닫기</span></a>
        </div>
        
        <div class="top-contbox">
            <a href="javascript:;"><span>질병</span></a>
            <h1>위암으로 발전하는 위염,</h1>
           <h1> <strong>위염 바로알기!</strong></h1>
            <p class="text">
                한국인의 건강을 위협하는 위염의 종류부터<br/>
                예방법까지 알아보도록 해요!
            </p>
        </div>

        <div style="height: 400px;"></div>

        <div style="background: white; height: 300px; margin: 0 20px; border-radius: 20px;">
            <div class="detail-contbox">
                <img src="../img/1.gif" alt="이미지1">
                <h2><Strong>속이 더부룩하고 소화가 잘 안되거나<br/>
                    속 쓰림이 있으면 혹시 위염인가?</Strong>
                </h2>
                <p>
                    인구 10명 중 1명은 위염 치료를 받았어요
                </p>
            </div>
        </div>
        
        <div class="detail-contbox fademotion">
            <h2>지금부터<br/>
                다양한 위염의 종류와 증상을<br/>
                알아볼게요
            </h2>
            <div class="animation-vertical-box">
                <div class="animation-vertical"></div>
            </div>
        </div>

        <section class="mt-100 pt-100 bg-1 ">
            <span class="section-1 fademotion" id="section-1">
            <div class="title-msg ">
                <span class="section-no fw-600">1</span>
                <h2>내시경은 이상 무? '신경성 위염'</h2>                
            </div>
            <p class="text">
                내시경 상으로 이상이 없으나<br/>
                복통을 호소하는 경우 신경성 위염
            </p>
        </span>
            <div class="section-img-1 fademotion" id="section-img-1">
                <img src="../img/2.gif" alt="이미지2">
            </div>
        </section>

        
    </div>

    
    <script>
        $(function () {
            $(".btn-close").on("click",function(){
                $(".thumbnail-box").removeClass("on")
                $("body").removeClass("fixed")
            })


            // interSectionObserver            
            const targets = document.querySelectorAll(".fademotion")            
            const observer = new IntersectionObserver(function (entries, observer) {
                entries.forEach((entry) => {
                    const container = entry.target
                    if (entry.isIntersecting) {
                        console.log(entry);
                        if (container.id === "section-img-1") {
                        container.classList.add("fade-in-Left")   
                        } else if(container.id === "section-1") {
                            container.classList.add("fade-in-Vis")
                        } else {
                            container.classList.add("fade-in-Down")
                        }
                    } else {
                        if (container.id === "section-img-1") {
                        container.classList.remove("fade-in-Left")
                        } else if(container.id === "section-1") {
                            container.classList.remove("fade-in-Vis")
                        } else {
                            container.classList.remove("fade-in-Down")
                        }
                    }
                })
            })

            targets.forEach((target) => {
                observer.observe(target)
            })



            var box = $("header .bar")
            function getProgressBar(){
                var sectionHeight = $(".wrap-contents").height()
                var scrollHeight = sectionHeight - $(window).height()
                var scrollTop = $(window).scrollTop()
                var scrollPercent = scrollTop / scrollHeight * 100
			    percentText(scrollPercent)
            }

            function percentText(scrollPercent){
                box.css({
                    width:scrollPercent+"%"
                })
            }
                

            // $(window).scroll(function () {
            //     if ($(this).scrollTop() > 50) {
            //         $('header').slideDown()  
            //         $("header").find(".btn-close").on("click",function(){
            //             $("header").addClass("active")
            //         })
            //     } else if ( $(this).scrollTop() <= 50 ) {
            //         $("header").removeClass("active")
            //         $('header').slideUp() 
            //     } else {
            //         $("header").removeClass("active")
            //     }
            //     getProgressBar()
            // })
            // function init(){
			//     getProgressBar()
		    // }

            
            $(window).scroll(function () {
                if ($(this).scrollTop() > 50) {
                    $("header").addClass("active")
                } else if ( $(this).scrollTop() <= 50 ) {
                    $("header").removeClass("active")
                } else {
                    $("header").removeClass("active")
                }
            })
            
        })
    </script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=IntersectionObserver"></script>
</body>
</html>